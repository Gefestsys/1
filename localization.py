"""
–°–∏—Å—Ç–µ–º–∞ –∏–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è Telegram –±–æ—Ç–∞
–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–æ–≤
"""

from typing import Dict
from config import logger

# –°–ª–æ–≤–∞—Ä–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤
TRANSLATIONS = {
    'ru': {
        # –û—Å–Ω–æ–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
        'welcome_message': "üëã –ü—Ä–∏–≤–µ—Ç! –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –±–æ—Ç–∞ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç!",
        'main_menu_message': "üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é\n\n–ß—Ç–æ –±—ã –≤—ã —Ö–æ—Ç–µ–ª–∏ —Å–¥–µ–ª–∞—Ç—å?",
        'language_selected': "‚úÖ –Ø–∑—ã–∫ –∏–∑–º–µ–Ω—ë–Ω –Ω–∞ —Ä—É—Å—Å–∫–∏–π!\n\n–ß—Ç–æ –±—ã –≤—ã —Ö–æ—Ç–µ–ª–∏ —Å–¥–µ–ª–∞—Ç—å?",

        # –ö–Ω–æ–ø–∫–∏ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é
        'btn_activate': "üöÄ –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å",
        'btn_settings': "‚öô –ù–∞—Å—Ç—Ä–æ–π–∫–∏",
        'btn_profile': "üë§ –ü—Ä–æ—Ñ–∏–ª—å",
        'btn_help': "üìò –ü–æ–º–æ—â—å",
        'btn_back': "‚¨Ö –ù–∞–∑–∞–¥",
        'btn_language': "üåç –Ø–∑—ã–∫",

        # –ê–∫—Ç–∏–≤–∞—Ü–∏—è
        'activation_code_prompt': "üîê –í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏:",
        'activation_success': "‚úÖ –ö–æ–¥ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø—Ä–∏–Ω—è—Ç! –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±–æ—Ç–∞.\n\n–ß—Ç–æ –±—ã –≤—ã —Ö–æ—Ç–µ–ª–∏ —Å–¥–µ–ª–∞—Ç—å?",
        'activation_error': "‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.\n\nüîê –í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏:",
        'activation_required': "‚ùó –°–Ω–∞—á–∞–ª–∞ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –±–æ—Ç–∞ —Å –ø–æ–º–æ—â—å—é –∫–æ–¥–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏.",

        # –ü–æ–¥–ø–∏—Å–∫–∞
        'subscription_menu': "üíé –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –ø–æ–¥–ø–∏—Å–∫–∏:",
        'btn_subscribe': "üí≥ –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ 1 –º–µ—Å—è—Ü - 90$",
        'btn_enter_promo': "üéÅ –í–≤–µ—Å—Ç–∏ –ø—Ä–æ–º–æ–∫–æ–¥",
        'subscription_info': "üí≥ –í—ã –≤—ã–±—Ä–∞–ª–∏ –ø–æ–¥–ø–∏—Å–∫—É –Ω–∞ 1 –º–µ—Å—è—Ü –∑–∞ 90$.\n\nüìû –î–ª—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∏ —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º: @admin_username",
        'promo_prompt': "üéÅ –í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–º–æ–∫–æ–¥:",
        'promo_success': "üéâ –ü—Ä–æ–º–æ–∫–æ–¥ '{code}' –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω!\nüìÖ –ü–æ–¥–ø–∏—Å–∫–∞ –∞–∫—Ç–∏–≤–Ω–∞ –Ω–∞ {days} –¥–Ω–µ–π.\nüìù {description}\n\n–ß—Ç–æ –±—ã –≤—ã —Ö–æ—Ç–µ–ª–∏ —Å–¥–µ–ª–∞—Ç—å?",
        'promo_error': "‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –ø—Ä–æ–º–æ–∫–æ–¥. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.\n\nüéÅ –í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–º–æ–∫–æ–¥:",
        'promo_activation_error': "‚ùå –û—à–∏–±–∫–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø—Ä–æ–º–æ–∫–æ–¥–∞.",
        'promo_save_error': "‚ùå –û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–æ–º–æ–∫–æ–¥–∞.",

        # –ù–∞—Å—Ç—Ä–æ–π–∫–∏
        'settings_menu': "‚öô –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞:",
        'btn_set_period': "üïí –ü–µ—Ä–∏–æ–¥",
        'btn_set_percent': "üìä –ü—Ä–æ—Ü–µ–Ω—Ç",
        'btn_exchange': "üè¶ –ë–∏—Ä–∂–∞",
        'period_prompt': "üïí –í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–µ—Ä–∏–æ–¥ –ø—Ä–æ–≤–µ—Ä–∫–∏ (–≤ –º–∏–Ω—É—Ç–∞—Ö, –æ—Ç 1 –¥–æ 1440):",
        'period_success': "‚úÖ –ü–µ—Ä–∏–æ–¥ –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–±–Ω–æ–≤–ª—ë–Ω: {period} –º–∏–Ω—É—Ç.\n\n–ß—Ç–æ –±—ã –≤—ã —Ö–æ—Ç–µ–ª–∏ —Å–¥–µ–ª–∞—Ç—å?",
        'period_error': "‚ùå –ü–µ—Ä–∏–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç 1 –¥–æ 1440 –º–∏–Ω—É—Ç.\n\nüïí –í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–µ—Ä–∏–æ–¥ –ø—Ä–æ–≤–µ—Ä–∫–∏ (–≤ –º–∏–Ω—É—Ç–∞—Ö, –æ—Ç 1 –¥–æ 1440):",
        'period_format_error': "‚ùå –í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —á–∏—Å–ª–æ.\n\nüïí –í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–µ—Ä–∏–æ–¥ –ø—Ä–æ–≤–µ—Ä–∫–∏ (–≤ –º–∏–Ω—É—Ç–∞—Ö, –æ—Ç 1 –¥–æ 1440):",
        'percent_prompt': "üìä –í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–æ—Ä–æ–≥ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–µ–Ω—ã (–≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö, –æ—Ç 0.1 –¥–æ 100):",
        'percent_success': "‚úÖ –ü–æ—Ä–æ–≥ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª—ë–Ω: {percent}%.\n\n–ß—Ç–æ –±—ã –≤—ã —Ö–æ—Ç–µ–ª–∏ —Å–¥–µ–ª–∞—Ç—å?",
        'percent_error': "‚ùå –ü—Ä–æ—Ü–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç 0.1 –¥–æ 100.\n\nüìä –í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–æ—Ä–æ–≥ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–µ–Ω—ã (–≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö, –æ—Ç 0.1 –¥–æ 100):",
        'percent_format_error': "‚ùå –í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —á–∏—Å–ª–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä: 3.5).\n\nüìä –í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–æ—Ä–æ–≥ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–µ–Ω—ã (–≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö, –æ—Ç 0.1 –¥–æ 100):",
        'settings_update_error': "‚ùå –û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫.",

        # –ë–∏—Ä–∂–∏
        'exchange_menu': "üè¶ –í—ã–±–µ—Ä–∏—Ç–µ –±–∏—Ä–∂—É –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è:\n\nüìä –¢–µ–∫—É—â–∞—è –±–∏—Ä–∂–∞: {current_exchange}",
        'exchange_selected': "‚úÖ –í—ã–±—Ä–∞–Ω–∞ –±–∏—Ä–∂–∞: {exchange}\n\n–ß—Ç–æ –±—ã –≤—ã —Ö–æ—Ç–µ–ª–∏ —Å–¥–µ–ª–∞—Ç—å?",
        'exchange_error': "‚ùå –û—à–∏–±–∫–∞ –≤—ã–±–æ—Ä–∞ –±–∏—Ä–∂–∏.",
        'profile_exchange': "üè¶ –ë–∏—Ä–∂–∞: {exchange}",

        # –ü–æ–º–æ—â—å
        'help_text': (
            "üìò *–ü–æ–º–æ—â—å –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –±–æ—Ç–∞*\n\n"
            "üîπ *–ê–∫—Ç–∏–≤–∞—Ü–∏—è* ‚Äî –≤–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ—É–Ω–∫—Ü–∏—è–º\n"
            "üîπ *–ù–∞—Å—Ç—Ä–æ–π–∫–∏* ‚Äî –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–∏–æ–¥ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –ø–æ—Ä–æ–≥ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–µ–Ω—ã\n"
            "üîπ *–ü—Ä–æ—Ñ–∏–ª—å* ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≤–∞—à–µ–º –∞–∫–∫–∞—É–Ω—Ç–µ\n\n"
            "üìä *–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–æ—Ç:*\n"
            "‚Ä¢ –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–µ–Ω –Ω–∞ —Ñ—å—é—á–µ—Ä—Å–Ω—ã—Ö –ø–∞—Ä–∞—Ö\n"
            "‚Ä¢ –£–≤–µ–¥–æ–º–ª—è–µ—Ç –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –∑–∞–¥–∞–Ω–Ω–æ–≥–æ –ø–æ—Ä–æ–≥–∞\n"
            "‚Ä¢ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ü–µ–Ω—ã —Å –∑–∞–¥–∞–Ω–Ω—ã–º –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º\n\n"
            "üÜò *–ü–æ–¥–¥–µ—Ä–∂–∫–∞:* @support\\_username"
        ),

        # –ü—Ä–æ—Ñ–∏–ª—å
        'profile_title': "üë§ *–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è*",
        'profile_id': "üÜî ID: `{user_id}`",
        'profile_name': "üë• –ò–º—è: *{name}*",
        'profile_settings': "‚öô *–ù–∞—Å—Ç—Ä–æ–π–∫–∏:*",
        'profile_period': "üïí –ü–µ—Ä–∏–æ–¥ –ø—Ä–æ–≤–µ—Ä–∫–∏: {period} –º–∏–Ω",
        'profile_percent': "üìä –ü–æ—Ä–æ–≥ –∏–∑–º–µ–Ω–µ–Ω–∏—è: {percent}%",
        'profile_error': "‚ùó –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª—è.",

        # –ü–æ–¥–ø–∏—Å–∫–∞ —Å—Ç–∞—Ç—É—Å—ã
        'subscription_inactive': "‚ùå –ü–æ–¥–ø–∏—Å–∫–∞: –Ω–µ –∞–∫—Ç–∏–≤–Ω–∞",
        'subscription_active': "‚úÖ –ü–æ–¥–ø–∏—Å–∫–∞: –∞–∫—Ç–∏–≤–Ω–∞ –¥–æ {date} (–æ—Å—Ç–∞–ª–æ—Å—å {days} –¥–Ω)",
        'subscription_expired': "‚ùå –ü–æ–¥–ø–∏—Å–∫–∞: –∏—Å—Ç–µ–∫–ª–∞ {date}",
        'subscription_error': "‚ö†Ô∏è –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ –ø–æ–¥–ø–∏—Å–∫–∏",

        # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Ü–µ–Ω–∞—Ö
        'notification_fixed_price': "üìå –§–∏–∫—Å. —Ü–µ–Ω–∞",
        'notification_current_price': "üí≤ –¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞",
        'notification_change': "üìä –ò–∑–º–µ–Ω–µ–Ω–∏–µ",
        'notification_time': "‚è∞ –í—Ä–µ–º—è",

        # –û–±—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
        'error_occurred': "‚ùó –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.",
        'use_menu_buttons': "‚ùó –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –º–µ–Ω—é –¥–ª—è –≤—ã–±–æ—Ä–∞ –¥–µ–π—Å—Ç–≤–∏—è.\n\n–ß—Ç–æ –±—ã –≤—ã —Ö–æ—Ç–µ–ª–∏ —Å–¥–µ–ª–∞—Ç—å?",
        'unknown_data': "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ",

        # –Ø–∑—ã–∫–∏
        'btn_russian': "üá∑üá∫ –†—É—Å—Å–∫–∏–π",
        'btn_english': "üá∫üá∏ English",
        'language_menu': "üåç –í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫:",
    },

    'en': {
        # Basic messages
        'welcome_message': "üëã Hello! Welcome to the cryptocurrency tracking bot!",
        'main_menu_message': "üè† Main Menu\n\nWhat would you like to do?",
        'language_selected': "‚úÖ Language changed to English!\n\nWhat would you like to do?",

        # Main menu buttons
        'btn_activate': "üöÄ Activate",
        'btn_settings': "‚öô Settings",
        'btn_profile': "üë§ Profile",
        'btn_help': "üìò Help",
        'btn_back': "‚¨Ö Back",
        'btn_language': "üåç Language",

        # Activation
        'activation_code_prompt': "üîê Enter activation code:",
        'activation_success': "‚úÖ Activation code accepted! Now you can use all bot functions.\n\nWhat would you like to do?",
        'activation_error': "‚ùå Invalid activation code. Please try again.\n\nüîê Enter activation code:",
        'activation_required': "‚ùó Please activate the bot first using an activation code.",

        # Subscription
        'subscription_menu': "üíé Choose subscription type:",
        'btn_subscribe': "üí≥ 1 Month Subscription - $90",
        'btn_enter_promo': "üéÅ Enter Promo Code",
        'subscription_info': "üí≥ You selected 1 month subscription for $90.\n\nüìû To complete subscription contact administrator: @admin_username",
        'promo_prompt': "üéÅ Enter promo code:",
        'promo_success': "üéâ Promo code '{code}' activated!\nüìÖ Subscription active for {days} days.\nüìù {description}\n\nWhat would you like to do?",
        'promo_error': "‚ùå Invalid promo code. Please try again.\n\nüéÅ Enter promo code:",
        'promo_activation_error': "‚ùå Promo code activation error.",
        'promo_save_error': "‚ùå Promo code save error.",

        # Settings
        'settings_menu': "‚öô Bot Settings:",
        'btn_set_period': "üïí Period",
        'btn_set_percent': "üìä Percentage",
        'btn_exchange': "üè¶ Exchange",
        'period_prompt': "üïí Enter new check period (in minutes, from 1 to 1440):",
        'period_success': "‚úÖ Check period updated: {period} minutes.\n\nWhat would you like to do?",
        'period_error': "‚ùå Period must be from 1 to 1440 minutes.\n\nüïí Enter new check period (in minutes, from 1 to 1440):",
        'period_format_error': "‚ùå Please enter a valid number.\n\nüïí Enter new check period (in minutes, from 1 to 1440):",
        'percent_prompt': "üìä Enter new price change threshold (in percent, from 0.1 to 100):",
        'percent_success': "‚úÖ Change threshold updated: {percent}%.\n\nWhat would you like to do?",
        'percent_error': "‚ùå Percentage must be from 0.1 to 100.\n\nüìä Enter new price change threshold (in percent, from 0.1 to 100):",
        'percent_format_error': "‚ùå Please enter a valid number (e.g.: 3.5).\n\nüìä Enter new price change threshold (in percent, from 0.1 to 100):",
        'settings_update_error': "‚ùå Settings update error.",

        # Exchanges
        'exchange_menu': "üè¶ Select exchange for tracking:\n\nüìä Current exchange: {current_exchange}",
        'exchange_selected': "‚úÖ Selected exchange: {exchange}\n\nWhat would you like to do?",
        'exchange_error': "‚ùå Exchange selection error.",
        'profile_exchange': "üè¶ Exchange: {exchange}",

        # Help
        'help_text': (
            "üìò *Bot Usage Help*\n\n"
            "üîπ *Activation* ‚Äî enter activation code to access functions\n"
            "üîπ *Settings* ‚Äî configure check period and price change threshold\n"
            "üîπ *Profile* ‚Äî view your account information\n\n"
            "üìä *How the bot works:*\n"
            "‚Ä¢ Tracks price changes on futures pairs\n"
            "‚Ä¢ Notifies when threshold is exceeded\n"
            "‚Ä¢ Checks prices at set intervals\n\n"
            "üÜò *Support:* @support\\_username"
        ),

        # Profile
        'profile_title': "üë§ *User Profile*",
        'profile_id': "üÜî ID: `{user_id}`",
        'profile_name': "üë• Name: *{name}*",
        'profile_settings': "‚öô *Settings:*",
        'profile_period': "üïí Check period: {period} min",
        'profile_percent': "üìä Change threshold: {percent}%",
        'profile_error': "‚ùó Failed to get profile data.",

        # Subscription statuses
        'subscription_inactive': "‚ùå Subscription: inactive",
        'subscription_active': "‚úÖ Subscription: active until {date} ({days} days left)",
        'subscription_expired': "‚ùå Subscription: expired {date}",
        'subscription_error': "‚ö†Ô∏è Error determining subscription",

        # Price notifications
        'notification_fixed_price': "üìå Fixed Price",
        'notification_current_price': "üí≤ Current Price",
        'notification_change': "üìä Change",
        'notification_time': "‚è∞ Time",

        # General messages
        'error_occurred': "‚ùó An error occurred. Please try later.",
        'use_menu_buttons': "‚ùó Please use menu buttons to select an action.\n\nWhat would you like to do?",
        'unknown_data': "Unknown",

        # Languages
        'btn_russian': "üá∑üá∫ –†—É—Å—Å–∫–∏–π",
        'btn_english': "üá∫üá∏ English",
        'language_menu': "üåç Select language:",
    }
}


class Localization:
    """–ö–ª–∞—Å—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–µ–π"""

    def __init__(self):
        self.translations = TRANSLATIONS
        self.default_language = 'ru'

    def get_text(self, key: str, language: str = None, **kwargs) -> str:
        """
        –ü–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç

        Args:
            key: –ö–ª—é—á –ø–µ—Ä–µ–≤–æ–¥–∞
            language: –Ø–∑—ã–∫ (–µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä—É—Å—Å–∫–∏–π)
            **kwargs: –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç—Ä–æ–∫–∏

        Returns:
            –ü–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç
        """
        if language is None:
            language = self.default_language

        if language not in self.translations:
            language = self.default_language

        text = self.translations[language].get(key, key)

        try:
            if kwargs:
                return text.format(**kwargs)
            return text
        except Exception as e:
            logger.error(f"Error formatting translation key '{key}': {e}")
            return key

    def get_available_languages(self) -> Dict[str, str]:
        """–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —è–∑—ã–∫–æ–≤"""
        return {
            'ru': self.get_text('btn_russian', 'ru'),
            'en': self.get_text('btn_english', 'en')
        }

    def is_valid_language(self, language: str) -> bool:
        """–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —è–∑—ã–∫ –≤–∞–ª–∏–¥–Ω—ã–º"""
        return language in self.translations


# –ì–ª–æ–±–∞–ª—å–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏
localization = Localization()


def get_text(key: str, language: str = None, **kwargs) -> str:
    """–£–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞"""
    return localization.get_text(key, language, **kwargs)